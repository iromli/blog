{% extends 'layout.html' %}


{% set title = 'Archives' %}

{% block content %}
    <h1>Archives</h1>
    <p>An ordered collection of things i've written down so far ...</p>
    {% for year, archive in archives %}
        <h2><a href="{{ get_url(archive.url) }}">{{ year }}</a></h2>
        <ul>
            {% for month, posts in archive.months %}
                {% for post in posts %}
                <li>
                    {{ post.timestamp|date('%b %d') }} -
                    <a href="{{ get_url(post.url) }}">{{ post.title }}</a>
                    {% if post.tags %}
                    <div>
                        <small>
                            <span>tagged &raquo;</span>
                            {% for tag in post.tags %}
                                <a href="{{ get_url(tags[tag].url) }}">{{ tag }}</a>
                                {% if not loop.last %}, {% endif %}
                            {% endfor %}
                        </small>
                    </div>
                    {% endif %}
                </li>
                {% endfor %}
            {% endfor %}
        </ul>
    {% endfor %}
{% endblock %}
